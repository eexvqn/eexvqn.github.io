---
title: "Air Quality"
---

# *The Relationship between Temperature and Ozone*

```{r, include=FALSE, eval=TRUE}
library(tidyverse)
#| out.width: "80%"
#| label: fig-airquality
#| fig-cap: Temperature and ozone level.
#| warning: false
#| eval: FALSE
```

```{r, echo=FALSE, eval=TRUE, warning=FALSE, message=FALSE}
ggplot(airquality, aes(x = Temp, y = Ozone)) +
  geom_point() +
  geom_smooth(method = "loess") +
  labs(x = "Temperature (°F)", 
       y = "Ozone (ppb)",
       title = "Graph of Temperature against Ozone",
       subtitle = "New York, USA",
       caption = "Source: airquality dataset in R")
```
*Warning: A total of 37 invalid data have been removed in the process of creating the graph above.*

# Upon Cleaning the Dataset

There is a total of 153 rows of data in *airquality* dataset. There is, however, certain data which are invalid/NA within the **Ozone (ppb)** variable. Data cleaning would involve the removal of these invalid data. 

## Invalid Rows
This shows the rows which have "NA" values in the Ozone variable.
```{r, echo=FALSE, eval=TRUE}
which(is.na(airquality$Ozone))
```

```{r, include=FALSE}
filtered_dataset <- airquality %>%
  filter(Ozone >= 0, Temp >= 0) %>%
  select(Ozone, Temp) %>%
  arrange(Ozone)
```
## Filtered Dataset

This shows the first and last 5 rows of the filtered dataset (which involves the removal of "NA" values in **Ozone (ppb)**.
```{r, eval=TRUE, echo=FALSE}
head(filtered_dataset, n = 5L)
tail(filtered_dataset, n = 5L)
```

## Summary Statistics

For Temperature (°F),
```{r, echo=FALSE, eval=TRUE}
filtered_dataset %>%
  summarise(mean = mean(Temp),
            min = mean(Temp),
            max = max(Temp))
```

For Ozone (ppb),
```{r, echo=FALSE, eval=TRUE}
filtered_dataset %>%
  summarise(mean = mean(Ozone),
            min = mean(Ozone),
            max = max(Ozone))
```

```{r, echo=FALSE, eval=TRUE}
filtered_dataset %>%
  ggplot() + 
  aes(Temp, Ozone, )
  geom_density()
```
